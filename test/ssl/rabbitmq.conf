# RabbitMQ SSL/TLS Configuration for pg_amqp testing

# Standard AMQP port (non-SSL)
listeners.tcp.default = 5672

# SSL/TLS AMQP port
listeners.ssl.default = 5671

# SSL certificate configuration
ssl_options.cacertfile = /etc/rabbitmq/certs/ca.crt
ssl_options.certfile = /etc/rabbitmq/certs/server.crt
ssl_options.keyfile = /etc/rabbitmq/certs/server.key

# Don't require client certificates (one-way TLS)
ssl_options.verify = verify_none
ssl_options.fail_if_no_peer_cert = false

# Support TLS 1.2 and 1.3 for broad compatibility
ssl_options.versions.1 = tlsv1.2
ssl_options.versions.2 = tlsv1.3

# Management plugin ports
management.tcp.port = 15672

# Allow guest user from any host (for Docker testing)
loopback_users = none
